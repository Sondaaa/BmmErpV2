<?php

/**
 * Demandeprivilege
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @package    Bmm
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class Demandeprivilege extends BaseDemandeprivilege
{

    public function ReadHtmldemandeprivilege($id)
    {
        $html = '';
        $demande = DemandeprivilegeTable::getInstance()->find($id);
        // $ordonnance = DocumentbudgetTable::getInstance()->find($id);
        // $rubrique = $ordonnance->getLigprotitrub();
        // $titre_budget = $rubrique->getTitrebudjet();

        // $montant_facture = "";
        // $numero_engagement = "";
        // $fournisseur = "";
        // $piecejointe_budget = $ordonnance->getPiecejointbudget()->getFirst();
        $html .= '<table style="width:100%;">
                            <tr>
                                <td style="width:35%;text-align:center;">

                                </td>
                                <td style="width:65%;"></td>
                            </tr>
                        </table>';
        $html .= '<div style="text-align:center;font-size:14px;font-weight:bold;"><u>DEMANDE PRIVILEGE</u></div>
                    <div style="text-align:center;font-size:14px;font-weight:bold;">'
        . '</div>
                    <div style="text-align:right">DATE : ' . date('d/m/Y') . '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

                </div>';

        $html .= '<table style="width:100%;"  border="1" cellpadding="3">
                    <tr>
                        <td style="width:100%">
                            <table cellpadding="3"><tr><td style="text-align:center;font-size:14px;font-weight:bold;"></td></tr></table>
                            <table cellpadding="3">
                            <tr> <td style="text-align:left;font-size:12px;font-weight:bold;">Demande Privilege:' . $demande->getTypedoc() . '

                           </td>
                            </tr>
                            </table>
                            <table style="width:100%;"  border="1" >
                           <tr>
                           <td> Demandeur : </td><td>' .
        $demande->getUtilisateur() . '</td></tr>
                            <tr><td> Objet : </td><td>' .
        $demande->getObjet() . '</td>
                                </tr>
                                <tr>
                                <td> Description : </td><td>' .
        $demande->getDescription() . '</td>
                                </tr>
                                <tr>
                                <td> Etat : </td><td>' .
        $demande->getEtat() . '</td>
                                </tr>
                    <tr>
                    <td> Valide : </td>';
        if ($demande->getValide() == 1) {
            $html .= '<td>' . 'Validé' . '</td>';
        } else {
            $html .= '<td>' . 'Non Validé' . '</td>';
        }
        $html .= '</tr>';
        $html .= '<tr>';
        $html .=  '<td> Date Validation : </td>';
        if ($demande->getDatevalidation()) {
            $html .= '<td>' . 
            date('d/m/Y', strtotime( $demande->getDatevalidation()))
            . '</td>';
        } else {
            $html .= '<td></td>';
        }

        $html .= '</tr>';

        $html .= '</table>
                        </td>
                    </tr>';

        return $html;
    }

}
