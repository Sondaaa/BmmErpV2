<?php

/**
 * Grade
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    PhpProjectTest
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class Grade extends BaseGrade {

    public function __toString() {
        return  $this->getLibelle();
    }

    public function ReadHtmlAlllisteGrade() {

        $html = ' <h3>Liste des Grades  </h3>'
        ;
        $html.=
                '<table border="1" style="padding:1%">
           
            <tbody>
                <tr>
                      <th style="width: 20%;"><b><label>Numéro</label></b></th>
                    <th style="width: 80% text-align:left;"><b><label>Libellé</label></b></th>
              
                </tr>
                ';

        $sousd = Doctrine_Core::getTable('grade')->findAll();
        $i = 1;
        foreach ($sousd as $p):
            $html.= '<tr>'
                    . '<td>' . $i . '</td>'
                    . '<td style="text-align:left;">' . $p->getLibelle() . '</td>'
                    . '</tr>';
            $i++;
        endforeach;
        $html.='<tbody></table>';

        return $html;
    }

    public function ReadHtmlAlllisteGradeparcat($id1) {
        //   $directio = Doctrine_Core::getTable('categorierh')->findOneById($idd);
        $html = ' <h3>Liste des Grades' . '</h3>'
        ;
        $html.=
                '<table border="1" style="padding:1%">
           
            <tbody>
                <tr>
                      <th style="width: 20%;"><b><label>Numéro</label></b></th>
                    <th style="width: 80% text-align:left;"><b><label>Libellé</label></b></th>
              
                </tr>
                ';

        $sousd = Doctrine_Core::getTable('grade')
                ->createQuery('a')
                ->select('*')
                 ->from('grade g, categorierh cat')
                ->where('g.id_categorie=cat.id')
                ->andWhere('cat.id= ?', $id1)
                ->execute();

        $i = 1;
        foreach ($sousd as $p):
            $html.= '<tr>'
                    . '<td>' . $i . '</td>'
                    . '<td style="text-align:left;">' . $p->getLibelle() . '</td>'
                    . '</tr>';
            $i++;
        endforeach;
        $html.='<tbody></table>';

        return $html;
    }
//grade par corps 
    
     public function ReadHtmlAlllisteGradeparcorps($id1) {
        //   $directio = Doctrine_Core::getTable('categorierh')->findOneById($idd);
        $html = ' <h3>Liste des Grades' . '</h3>'
        ;
        $html.=
                '<table border="1" style="padding:1%">
           
            <tbody>
                <tr>
                      <th style="width: 20%;"><b><label>Numéro</label></b></th>
                    <th style="width: 80% text-align:left;"><b><label>Libellé</label></b></th>
              
                </tr>
                ';

        $sousd = Doctrine_Core::getTable('grade')
                ->createQuery('a')
                ->select('*')
                 ->from('grade g, categorierh cat')
                ->where('g.id_categorie=cat.id')
                ->andWhere('cat.id= ?', $id1)
                ->execute();

        $i = 1;
        foreach ($sousd as $p):
            $html.= '<tr>'
                    . '<td>' . $i . '</td>'
                    . '<td style="text-align:left;">' . $p->getLibelle() . '</td>'
                    . '</tr>';
            $i++;
        endforeach;
        $html.='<tbody></table>';

        return $html;
    }
}
