<?php

/**
 * LignedocachatTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class LignedocachatTable extends Doctrine_Table {

    /**
     * Returns an instance of this class.
     *
     * @return object LignedocachatTable
     */
    public static function getInstance() {
        return Doctrine_Core::getTable('Lignedocachat');
    }

    public function getByDocOrderByTva($id_doc) {
        $query = $this->createQuery('l');
        $query->select('l.*')
                ->from('Lignedocachat l')
                ->where("l.id_doc =" . $id_doc)
                ->orderBy('l.id_tva');
        return $query->execute();
    }

    public function getByDocOrderByTvaBeforeDelete($id_doc, $nordre) {
        $query = $this->createQuery('l');
        $query->select('l.*')
                ->from('Lignedocachat l')
                ->where("l.id_doc =" . $id_doc)
                ->andWhere('l.nordre > ' . $nordre)
                ->orderBy('l.nordre');
        return $query->execute();
    }

    public function getByIdDoc($id_doc) {
        $query = $this->createQuery('l');
        $query->select('l.*')
                ->from('Lignedocachat l')
                ->where("l.id_doc =" . $id_doc)
                ->orderBy('l.nordre');
        return $query->execute();
    }

}
